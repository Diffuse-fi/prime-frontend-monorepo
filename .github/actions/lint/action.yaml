name: "Lint"
description: "Lints the code in the repo"

runs:
  using: "composite"
  steps:
    - name: Validate config
      working-directory: ./config
      run: npm run check
      shell: bash

    - name: Lint
      run: npm run lint
      shell: bash

    - name: Check code formatting
      run: npm run check:format
      shell: bash

    - name: Check i18n translations
      run: npm run check:i18n
      shell: bash

    # - name: Check for unused files, dependencies, and exports
    #   run: npm run knip
    #   shell: bash

    - name: Check that only allowed licenses are used in production
      run: npm run check:licenses
      shell: bash

    - name: Check dependency versions with Syncpack
      run: npm run check:syncpack
      shell: bash

    - name: Check that workspace packages use current versions
      run: npm run check:packages-sync
      shell: bash

    - name: Check for circular dependencies
      run: npm run check:circular-deps
      shell: bash
